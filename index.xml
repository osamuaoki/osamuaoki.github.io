<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Goofing Osamu</title>
    <link>/</link>
    <description>Recent content on Goofing Osamu</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sat, 23 Mar 2019 18:59:13 +0900</lastBuildDate>
    
	<atom:link href="/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>キーボード入力モード選択</title>
      <link>/jp/2019/03/23/gnome-uskb-im-select/</link>
      <pubDate>Sat, 23 Mar 2019 18:59:13 +0900</pubDate>
      
      <guid>/jp/2019/03/23/gnome-uskb-im-select/</guid>
      <description>キーボード入力モード選択 Gnome等のLinuxの日本語環境でキーボード入力モード選択がトグル（ローテート） 動作（日本語/英語の交互切り替え)だと今どっちか分からなくなって結構不便です。
SUPER-SPACEとSHIFT-SUPER-SPACEがGnomeの側でのキーボード入力ソースの デフォルトの切り替えキーです。
input methos内での切り替えは、昔のWindowsと同じ&amp;rdquo;zenkaku-hankaku&amp;rdquo;とか、 うに径で良く使う&amp;rdquo;space&amp;rdquo;が良くバインドされています。
切り替えが、状態が分からなくとも一発でできるのが望ましいので、 その設定方法を以下に記します。
日本語キーボードの設定方法 日本語キーボードだと、変換と無変換キーを、Anthyの入力モード HiraganaとLatinへの切り替えにAnthyの中のキーバインディングで 設定して常にibus-anthyで使うことで何とかなります。これは特に 問題ありません。
同じことを、WindowsのIMEでもALT-漢字、漢字、ALT-`等でのトグル 動作が嫌いで、Macの真似でこんなキーバインディングしています。 （最近のWindows10はどうも噂ではこんな感じのキーバインドのようですね。）
英語キーボードでの課題 ただ、英語キーボードの場合は変換と無変換キーはありません。
 SHIFTと普通の文字との組み合わせは論外。 CTRLと普通の文字との組み合わせも、VIM使うので全部先約有り。 ALTと普通の文字との組み合わせも、メニューへのショートカットで全部先約有り。  こういったことも有り、私はCTRL-SPACE, SHIFT-SPACEを一時使っていました
ところが、SHIFT-SPACEやCTRL-SPACEのどちらかをLokalizeなどのアプリ が使っていました。（ALT-SPACEは既にGNOMEが使っている）
こうなると、お手上げです。
英語キーボードでの設定方法 (Gnome+ibus+Anthy) アプリとの喧嘩を避けるにはGUI用にリザーブされている、GUIキー（SUPERと かWindowsキーともいう)やMENUキー等をGNOME側からのコントロールでibusの 各入力エンジン選択に使うのが良いわけです。（GUIキーはAnthyなどのアプリ のパネルからは使えません。）
そこで、GNOMEの設定→デバイス→キーボードの登場です。Gnomeは内部では通常 ibusしかサポートしていないので、ここに書いてあることは他のuim,fcitx,scim ではそのまま使えません。ここで、使用するINPUT METHODが２つしか無いとします。 英語とANTHYとしましょう。
設定リストの一番下のプラスをたたき、新規定義を追加します。
キーとして使えそうなのはSUPER-,、SUPER-.、SUPER-/、SUPER-&amp;lsquo;、SUPER-\、 SUPER-RETURNあたりです。SUPER-jもあいてますね。 SUPER-lで画面ロックなので、このまわりのSUPER-k、SUPER-;、は避けたいですね。 SUPER-a、SUPER-s、SUPER-n、SUPER-m、SUPER-TAB、SUPER-vも先約があるので 使えません。SUPERが左手なので右手のキーとの組み合わせが使いやすいかな。
inputSources0 がANTHYとすると、変換キーはないのでSUPER-j (Japanese) をあてがいましょう。Commandは長いけど１行で入れてください。
Name InputMethod_0 Command gdbus call --session --dest org.gnome.Shell --object-path /org/gnome/Shell --method org.gnome.Shell.Eval &amp;quot;imports.ui.status.keyboard.getInputSourceManager().inputSources[0].activate()&amp;quot; Shortcut SUPER-j  もし、これが嫌ならSUPER-,、SUPER-.、SUPER-/などの右下のキーとSUPERの 組み合わせが使いやすい気がします。 （２つ以上のインプットメソッドを使うときにも便利ですね。)</description>
    </item>
    
    <item>
      <title>dgit workflow</title>
      <link>/en/2019/02/11/dgit-workfow01/</link>
      <pubDate>Mon, 11 Feb 2019 21:53:26 +0900</pubDate>
      
      <guid>/en/2019/02/11/dgit-workfow01/</guid>
      <description>For Debian maintainer, there can be 4 approaches for maintaining git repository with dgit. Let me get all key points of manpages.
   tutorials model tool history patch quilt maintainer     dgit-maint-native(7) native git(1) upstream git (same) N/A upstream   dgit-maint-merge(7) merge git merge(1) upstream git applied merged upstream   dgit-maint-debrebase(7) rebasish git-debrebase(1) upstream git applied series downstream   dgit-maint-gbp(7) gbp git-buildpackage(1) upstream tar unapplied series downstream    Here, the maintainer column indicates relationship of the maintainer to the upstream development.</description>
    </item>
    
    <item>
      <title>Initial setup for hugo (2)</title>
      <link>/en/2019/02/09/initial-setup02/</link>
      <pubDate>Sat, 09 Feb 2019 11:15:56 +0900</pubDate>
      
      <guid>/en/2019/02/09/initial-setup02/</guid>
      <description>Let&amp;rsquo;s customize web site contents.
 I want to have 2 separate directories for English and Japanese contents. Main menu should have link to the list of contents dedicated for English and Japanese contents The list of contents needs to be customized.  The following pages gave me good starting points.
 https://www.jakewiesler.com/blog/hugo-directory-structure/ https://sourceforge.net/p/hugo-generator/wiki/markdown_syntax/  Customization Here are what I did:
 Since I don&amp;rsquo;t use content/_index.Rmarkdown, I erased it.</description>
    </item>
    
    <item>
      <title>Initial setup for hugo (1)</title>
      <link>/en/2019/02/09/initial-setup01/</link>
      <pubDate>Sat, 09 Feb 2019 11:00:56 +0900</pubDate>
      
      <guid>/en/2019/02/09/initial-setup01/</guid>
      <description>Let&amp;rsquo;s set up a local git repository for a simple personal web pages with blog support using hugo on Debian.
 $ sudo apt-get install hugo $ cd /path/to # where you can write $ hugo new site &amp;lt;webbuildtree&amp;gt; Congratulations! Your new Hugo site is created in /path/to/osamuaoki. Just a few more steps and you&#39;re ready to go: 1. Download a theme into the same-named folder. Choose a theme from https://themes.</description>
    </item>
    
    <item>
      <title>anthyのユーザー辞書</title>
      <link>/jp/2019/02/09/anthy-dict/</link>
      <pubDate>Sat, 09 Feb 2019 00:00:00 +0000</pubDate>
      
      <guid>/jp/2019/02/09/anthy-dict/</guid>
      <description>Anthyのソースを見るとメイン 辞書以外のユーザー辞書は、単漢字入力などの入力文字列として半角tを最後 につけた辞書が、ファイル名「*.t」で多数含まれ配布されています。
（もっとも、現在のDebianのソースは NIIBE Yutakaさんが最近再構成したので、 ファイルの起源はどうもalt-cannadicは由来かもしれません）
これらは個人用辞書用と言うことですが、現在（２０１９年２月）の時点では 「郵便番号→住所」変換をするためのzipcode.t以外はバイナリーパッケージに コピーされていないので直接システムに導入するようにはなっていません。
ただ同梱された「郵便番号→住所」変換をするための辞書は「７桁半角数字＋半角t」 を入力すると郵便番号に対応する住所の文字列を吐き出すようになっているように 見受けます。
実際にanthyをibus-anthyの下で動作させると「７桁半角数字＋半角t」や、 他の「t」で終わる文字列を入れても何も起こりません。ibus-anthyの下では このzipcode.tは明らかに使われていません。
良く見るとibus-anthyが
/usr/share/ibus-anthy/dicts/emoji.t /usr/share/ibus-anthy/dicts/era.t /usr/share/ibus-anthy/dicts/oldchar.t /usr/share/ibus-anthy/dicts/symbol.t /usr/share/ibus-anthy/dicts/zipcode.t  をインストールして、GUIの設定が「~/.anthy/*.t」からシムリンクをはるなど してこれらをユーザー辞書として使えるようにしているようです。
ただこれらのユーザー辞書では、入力文字列として半角tを最後つけることはされて いません。「郵便番号→住所」変換をするための辞書は「３桁全角数字、 全角の長音(UTF-8=E383BC, Unicode=U+30FC)、４桁全角数字」を入力すると、 郵便番号に対応する住所の文字列を対応させるようになっていますし、実際の 動作もそうです。
どうもこの違いは、使うフロントエンドによって提供されるローマ字入力から かなに変換される際のルールが異なることが背景にあるようです。 （「uim」は使っていないのであくまで推測です）
 「ibus-anthy」 数字・記号入力は全角数字・記号、単ローマ字入力は大文字半角 「uim」 数字・記号入力は半角数字・記号、単ローマ字入力は小文字半角  ローマ字入力からのかな漢字変換は、どうも使うフロントエンドによって少々動作が 違うので要注意です。
そもそもこの変な変換辞書スタイルは、昔の「canna辞書」由来かもしれません。</description>
    </item>
    
    <item>
      <title>日本語単語頻度</title>
      <link>/jp/2019/02/09/word-freq/</link>
      <pubDate>Sat, 09 Feb 2019 00:00:00 +0000</pubDate>
      
      <guid>/jp/2019/02/09/word-freq/</guid>
      <description>BCCWJ  語彙調査データ：  https://pj.ninjal.ac.jp/corpus_center/archive.html　（２００４） https://pj.ninjal.ac.jp/corpus_center/files/goihyo_frq_ver.1.0.txt　3万語  『現代日本語書き言葉均衡コーパス』語彙表：
 https://pj.ninjal.ac.jp/corpus_center/bccwj/freq-list.html　（２０１１） https://pj.ninjal.ac.jp/corpus_center/bccwj/bcc-chu-suw.html (1.0E8 data, 短単位語彙表：18万語網羅） https://pj.ninjal.ac.jp/corpus_center/bccwj/bcc-chu-luw.html (8.3E7 data, 長単位語彙表: 243万語網羅）
$ wc -l BCCWJ_frequencylist_* 2434722 BCCWJ_frequencylist_luw_ver1_1.tsv 185137 BCCWJ_frequencylist_suw_ver1_1.tsv    BCCWJ短単位語彙表    頻度順位 積算出現率     1 0.048   10 0.303   100 0.556   1000 0.752   10000 0.933   100000 0.997 (6 sample)   150000 1.</description>
    </item>
    
    <item>
      <title>Goofing Osamu</title>
      <link>/about/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/about/</guid>
      <description>Goodfing Osamu is a site where I keep random public memos.</description>
    </item>
    
    <item>
      <title>日本語入力関係リソース</title>
      <link>/jp/1/01/01/jpn-ime-resource-01/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>/jp/1/01/01/jpn-ime-resource-01/</guid>
      <description>anthy 関連のリソース（日本語中心）  Debian (*****)  wiki: http://wiki.debian.org/Teams/DebianAnthy salsa: https://salsa.debian.org/input-method-team/anthy BTS: https://bugs.debian.org/cgi-bin/pkgreport.cgi?src=anthy  G-HAL (engine patch)  2019-04-06: http://www.fenix.ne.jp/~G-HAL/soft/nosettle/im.html#anthy 2018-05-31: http://www.fenix.ne.jp/~G-HAL/whatsnew/20182nd.html#whatsnew2018530 2011-10-08: http://www.fenix.ne.jp/~G-HAL/soft/nosettle/anthy.html  vagus (dictionary patch)  2012-03-10: http://vagus.seesaa.net/ https://osdn.net/projects/alt-cannadic/wiki/FrontPage  ootnegx  2011-12-03: http://ootnegx.blogspot.com/2011/12/g-hal-anthy.html  archlinux wiki  2018-08-30: https://wiki.archlinux.jp/index.php/Uim_%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E6%97%A5%E6%9C%AC%E8%AA%9E%E3%82%92%E5%85%A5%E5%8A%9B#Anthy  kakurasan  2010-11-20: https://kakurasan.hatenadiary.jp/entry/20101120/p1 2010-12-14: https://kakurasan.hatenadiary.jp/entry/20101214/p1  arekorebibouroku  2017-09-24 http://arekorebibouroku.hateblo.jp/entry/2017/09/24/171025  rikuku  2013-07-12: https://rikukuu.blog.fc2.com/blog-entry-199.html 2019-01-13: https://rikukuu.blog.fc2.com/blog-entry-640.html data: https://drive.google.com/file/d/1RW1mcYzbfp0dPfzFmnSme-duiGqYtzRb/view?usp=sharing   SJ3 辞書  rikuku  article: http://poiut.</description>
    </item>
    
  </channel>
</rss>