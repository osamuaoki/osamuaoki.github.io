<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>input-method on Goofing Osamu</title>
    <link>/tags/input-method/</link>
    <description>Recent content in input-method on Goofing Osamu</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sat, 23 Mar 2019 18:59:13 +0900</lastBuildDate>
    
	<atom:link href="/tags/input-method/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>キーボード入力モード選択</title>
      <link>/jp/2019/03/23/gnome-uskb-im-select/</link>
      <pubDate>Sat, 23 Mar 2019 18:59:13 +0900</pubDate>
      
      <guid>/jp/2019/03/23/gnome-uskb-im-select/</guid>
      <description>キーボード入力モード選択 Gnome等のLinuxの日本語環境でキーボード入力モード選択がトグル（ローテート） 動作（日本語/英語の交互切り替え)だと今どっちか分からなくなって結構不便です。
SUPER-SPACEとSHIFT-SUPER-SPACEがGnomeの側でのキーボード入力ソースの デフォルトの切り替えキーです。
input methos内での切り替えは、昔のWindowsと同じ&amp;rdquo;zenkaku-hankaku&amp;rdquo;とか、 うに径で良く使う&amp;rdquo;space&amp;rdquo;が良くバインドされています。
切り替えが、状態が分からなくとも一発でできるのが望ましいので、 その設定方法を以下に記します。
日本語キーボードの設定方法 日本語キーボードだと、変換と無変換キーを、Anthyの入力モード HiraganaとLatinへの切り替えにAnthyの中のキーバインディングで 設定して常にibus-anthyで使うことで何とかなります。これは特に 問題ありません。
同じことを、WindowsのIMEでもALT-漢字、漢字、ALT-`等でのトグル 動作が嫌いで、Macの真似でこんなキーバインディングしています。 （最近のWindows10はどうも噂ではこんな感じのキーバインドのようですね。）
英語キーボードでの課題 ただ、英語キーボードの場合は変換と無変換キーはありません。
 SHIFTと普通の文字との組み合わせは論外。 CTRLと普通の文字との組み合わせも、VIM使うので全部先約有り。 ALTと普通の文字との組み合わせも、メニューへのショートカットで全部先約有り。  こういったことも有り、私はCTRL-SPACE, SHIFT-SPACEを一時使っていました
ところが、SHIFT-SPACEやCTRL-SPACEのどちらかをLokalizeなどのアプリ が使っていました。（ALT-SPACEは既にGNOMEが使っている）
こうなると、お手上げです。
英語キーボードでの設定方法 (Gnome+ibus+Anthy) アプリとの喧嘩を避けるにはGUI用にリザーブされている、GUIキー（SUPERと かWindowsキーともいう)やMENUキー等をGNOME側からのコントロールでibusの 各入力エンジン選択に使うのが良いわけです。（GUIキーはAnthyなどのアプリ のパネルからは使えません。）
そこで、GNOMEの設定→デバイス→キーボードの登場です。Gnomeは内部では通常 ibusしかサポートしていないので、ここに書いてあることは他のuim,fcitx,scim ではそのまま使えません。ここで、使用するINPUT METHODが２つしか無いとします。 英語とANTHYとしましょう。
設定リストの一番下のプラスをたたき、新規定義を追加します。
キーとして使えそうなのはSUPER-,、SUPER-.、SUPER-/、SUPER-&amp;lsquo;、SUPER-\、 SUPER-RETURNあたりです。SUPER-jもあいてますね。 SUPER-lで画面ロックなので、このまわりのSUPER-k、SUPER-;、は避けたいですね。 SUPER-a、SUPER-s、SUPER-n、SUPER-m、SUPER-TAB、SUPER-vも先約があるので 使えません。SUPERが左手なので右手のキーとの組み合わせが使いやすいかな。
inputSources0 がANTHYとすると、変換キーはないのでSUPER-j (Japanese) をあてがいましょう。Commandは長いけど１行で入れてください。
Name InputMethod_0 Command gdbus call --session --dest org.gnome.Shell --object-path /org/gnome/Shell --method org.gnome.Shell.Eval &amp;quot;imports.ui.status.keyboard.getInputSourceManager().inputSources[0].activate()&amp;quot; Shortcut SUPER-j  もし、これが嫌ならSUPER-,、SUPER-.、SUPER-/などの右下のキーとSUPERの 組み合わせが使いやすい気がします。 （２つ以上のインプットメソッドを使うときにも便利ですね。)</description>
    </item>
    
  </channel>
</rss>