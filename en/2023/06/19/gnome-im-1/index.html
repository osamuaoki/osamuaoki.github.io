<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>GNOME shell extension for input methods | Goofing Osamu</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  <body>
    <nav>
    <ul class="menu">
      
      <li><a href="/">Home</a></li>
      
      <li><a href="/about/">About</a></li>
      
      <li><a href="/categories/">Categories</a></li>
      
      <li><a href="/tags/">Tags</a></li>
      
      <li><a href="/en/">English</a></li>
      
      <li><a href="/jp/">Japanese</a></li>
      
      <li><a href="/index.xml">Subscribe</a></li>
      
    </ul>
    <hr/>
    </nav>

<div class="article-meta">
<h1><span class="title">GNOME shell extension for input methods</span></h1>

<h3 class="date">Date:
2023/06/19 (initial publish),
2023/07/01 (last update)
</h3>
<h3 class="source">Source:
en/note-00047.md
</h3>
</div>

<main>


<table width="100%">
  <tbody>
  <tr>
  
  <td align="left" width="33%"><a href="/en/2023/06/18/gnome-tweaks-1/">Previous Post</a></td>
  
  <td align="center" width="33%"><a href="/en/">Top</a></td>
  
  <td align="right" width="33%"><a href="#">***</a></td>
  
  </tr>
  </tbody>
</table>

<h2>TOC</h2>

<nav id="TableOfContents">
  <ul>
    <li><a href="#simple-gnome-shell-extension">Simple GNOME shell extension</a></li>
    <li><a href="#reference-examples">Reference examples</a>
      <ul>
        <li><a href="#gnome-extension-shortcuts">GNOME extension &ldquo;Shortcuts&rdquo;</a></li>
        <li><a href="#gnome-extension-more-keyboard-shortcuts">GNOME extension &ldquo;More keyboard shortcuts&rdquo;</a></li>
      </ul>
    </li>
    <li><a href="#initial-working-gnome-shell-extension-for-switching-input-methods">Initial working GNOME shell extension for switching input methods</a>
      <ul>
        <li><a href="#inputmethod-shortcuts-v1-rejected"><code>inputmethod-shortcuts</code> (v1: rejected)</a></li>
        <li><a href="#inputmethod-shortcuts-v2-rejected"><code>inputmethod-shortcuts</code> (v2: rejected)</a></li>
        <li><a href="#inputmethod-shortcuts-v3-rejected"><code>inputmethod-shortcuts</code> (v3: rejected)</a></li>
        <li><a href="#inputmethod-shortcuts-v4-accepted"><code>inputmethod-shortcuts</code> (v4: accepted)</a></li>
      </ul>
    </li>
    <li><a href="#learning-javascript-for-gjs">Learning JavaScript for GJS</a></li>
    <li><a href="#checking-systemd-log">Checking systemd log</a></li>
    <li><a href="#improvement-of-gnome-extension-inputmethod-shortcuts-v5">Improvement of GNOME extension <code>inputmethod-shortcuts</code> (v5)</a>
      <ul>
        <li><a href="#use-of-es6-class-syntax">Use of ES6 <strong>class</strong>-syntax</a></li>
        <li><a href="#use-for-loop">Use for-loop</a></li>
        <li><a href="#add-prefsjs">Add prefs.js</a></li>
        <li><a href="#get-im-settings">Get IM settings</a></li>
      </ul>
    </li>
  </ul>
</nav>

<p>Since I didn&rsquo;t find GNOME shell extension to provide shortcuts to input method
activations, I decided to create one by following examples of existing
extensions without rigorous learning.</p>
<h2 id="simple-gnome-shell-extension">Simple GNOME shell extension</h2>
<p>One can create a skelton of a simple GNOME shell extension as:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ gnome-shell-extension-tool --create-extension
</span></span></code></pre></div><p>This created a almost empty GNOME shell extension under
<code>~/.local/share/gnome-shell/extensions/</code>.</p>
<p>After &ldquo;Log out&rdquo; and &ldquo;Log in&rdquo; to my account, this GNOME shell extension can be
seen from &ldquo;Extensions&rdquo;.  But this was too simple to do anything useful.</p>
<h2 id="reference-examples">Reference examples</h2>
<p>Since I had no idea how to set up keybindings for switching input methods, I
looked around examples on simple GNOME extensions with &ldquo;shortcut&rdquo; as a keyword.</p>
<h3 id="gnome-extension-shortcuts">GNOME extension &ldquo;Shortcuts&rdquo;</h3>
<p>GNOME extension <a href="https://gitlab.com/paddatrapper/shortcuts-gnome-extension">Shortcuts</a>
looked like simple enough since all it does is toggling of display when <code>&lt;Super&gt;s</code> is pressed.</p>
<p>But there is no text like <code>super</code> in the source.  It looks like <code>imports.ui.main.overview</code> gets a call back to enable toggling of display.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">Main</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">imports</span>.<span style="color:#a6e22e">ui</span>.<span style="color:#a6e22e">main</span>;
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Main</span>.<span style="color:#a6e22e">overview</span>.<span style="color:#a6e22e">_specialToggle</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">evt</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">_toggleShortcuts</span>();
</span></span><span style="display:flex;"><span>  };
</span></span></code></pre></div><p><code>gnome-shell</code> source has <code>js/ui/main.js</code> which calls <code>overview.init()</code> then <code>js/ui/overviw.js</code> which has <code>overview.init()</code> calling:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">Main</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">imports</span>.<span style="color:#a6e22e">ui</span>.<span style="color:#a6e22e">main</span>;
</span></span><span style="display:flex;"><span>...
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Main</span>.<span style="color:#a6e22e">wm</span>.<span style="color:#a6e22e">addKeybinding</span>(
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;toggle-overview&#39;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Gio</span>.<span style="color:#a6e22e">Settings</span>({ <span style="color:#a6e22e">schema_id</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">WindowManager</span>.<span style="color:#a6e22e">SHELL_KEYBINDINGS_SCHEMA</span> }),
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Meta</span>.<span style="color:#a6e22e">KeyBindingFlags</span>.<span style="color:#a6e22e">IGNORE_AUTOREPEAT</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Shell</span>.<span style="color:#a6e22e">ActionMode</span>.<span style="color:#a6e22e">NORMAL</span> <span style="color:#f92672">|</span> <span style="color:#a6e22e">Shell</span>.<span style="color:#a6e22e">ActionMode</span>.<span style="color:#a6e22e">OVERVIEW</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">this</span>.<span style="color:#a6e22e">toggle</span>.<span style="color:#a6e22e">bind</span>(<span style="color:#66d9ef">this</span>));
</span></span></code></pre></div><p>In <code>data/org.gnome.shell.gschema.xml.in</code> from <code>gnome-shell</code> source, I found:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#f92672">&lt;key</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;toggle-overview&#34;</span> <span style="color:#a6e22e">type=</span><span style="color:#e6db74">&#34;as&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>│ <span style="color:#f92672">&lt;default&gt;</span>[&#34;&amp;lt;Super&amp;gt;s&#34;]<span style="color:#f92672">&lt;/default&gt;</span>
</span></span><span style="display:flex;"><span>│ <span style="color:#f92672">&lt;summary&gt;</span>Keybinding to open the overview<span style="color:#f92672">&lt;/summary&gt;</span>
</span></span><span style="display:flex;"><span>│ <span style="color:#f92672">&lt;description&gt;</span>
</span></span><span style="display:flex;"><span>│ │ Keybinding to open the Activities Overview.
</span></span><span style="display:flex;"><span>│ <span style="color:#f92672">&lt;/description&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/key&gt;</span>
</span></span></code></pre></div><p>So basically, this extension uses keybinding defined by <code>gnome-shell</code>.</p>
<p>The schema definition <code>&lt;default&gt;[&quot;&amp;lt;Super&amp;gt;s&quot;]&lt;/default&gt;</code> used in
<code>data/org.gnome.shell.gschema.xml.in</code> is interesting. Also,
<code>imports.ui.main.wm.addKeybinding()</code> seems to be the way to bind specific key
to a JavaScript code.</p>
<p>I also got idea to use <strong>IGNORE_AUTOREPEAT</strong> from this.</p>
<h3 id="gnome-extension-more-keyboard-shortcuts">GNOME extension &ldquo;More keyboard shortcuts&rdquo;</h3>
<p><a href="https://github.com/matthijskooijman/gnome-shell-more-keyboard-shortcuts">More keyboard shortcuts</a>
also looked like simple enough since all it does is
switching window on the current workspace
when <code>&lt;Super&gt;j</code>  or <code>&lt;Super&gt;k</code> is pressed.</p>
<p>This source has its own <code>schemas/org.gnome.shell.extensions.more-keyboard-shortcuts.gschema.xml</code> with <code>&lt;default&gt;&lt;![CDATA[['&lt;Super&gt;j']]]&gt;&lt;/default&gt;</code> and <code>&lt;default&gt;&lt;![CDATA[['&lt;Super&gt;k']]]&gt;&lt;/default&gt;</code> for <code>&lt;key type=&quot;as&quot; name=&quot;switch-window-next-workspace&quot;&gt;</code> and <code>&lt;key type=&quot;as&quot; name=&quot;switch-window-prev-workspace&quot;&gt;</code>.</p>
<p>I suppose this <code>CDATA</code> thing is the same thing as <code>&lt;default&gt;[&quot;&amp;lt;Super&amp;gt;j&quot;]&lt;/default&gt;</code> and <code>&lt;default&gt;[&quot;&amp;lt;Super&amp;gt;k&quot;]&lt;/default&gt;</code>.</p>
<p>I also see <code>extension.js</code> has the following which binds &ldquo;key name&rdquo; to JavaScript.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">enable</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Main</span>.<span style="color:#a6e22e">wm</span>.<span style="color:#a6e22e">addKeybinding</span>(<span style="color:#e6db74">&#34;switch-window-next-workspace&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">settings</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Meta</span>.<span style="color:#a6e22e">KeyBindingFlags</span>.<span style="color:#a6e22e">NONE</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Shell</span>.<span style="color:#a6e22e">ActionMode</span> <span style="color:#f92672">?</span> <span style="color:#a6e22e">Shell</span>.<span style="color:#a6e22e">ActionMode</span>.<span style="color:#a6e22e">NORMAL</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">Shell</span>.<span style="color:#a6e22e">KeyBindingMode</span>.<span style="color:#a6e22e">NORMAL</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">display</span>, <span style="color:#a6e22e">screen</span>, window, <span style="color:#a6e22e">binding</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">switchWindow</span>(<span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    );
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">Main</span>.<span style="color:#a6e22e">wm</span>.<span style="color:#a6e22e">addKeybinding</span>(<span style="color:#e6db74">&#34;switch-window-prev-workspace&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">settings</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Meta</span>.<span style="color:#a6e22e">KeyBindingFlags</span>.<span style="color:#a6e22e">NONE</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Shell</span>.<span style="color:#a6e22e">ActionMode</span> <span style="color:#f92672">?</span> <span style="color:#a6e22e">Shell</span>.<span style="color:#a6e22e">ActionMode</span>.<span style="color:#a6e22e">NORMAL</span> <span style="color:#f92672">:</span> <span style="color:#a6e22e">Shell</span>.<span style="color:#a6e22e">KeyBindingMode</span>.<span style="color:#a6e22e">NORMAL</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">display</span>, <span style="color:#a6e22e">screen</span>, window, <span style="color:#a6e22e">binding</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">switchWindow</span>(<span style="color:#66d9ef">false</span>);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    );
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>By replacing <code>switchWindow()</code> with Input Method setting JavaScript function, I
think I can get desired extension functionality.</p>
<p>Since this was my first JavaScript program, there were many rough edges.</p>
<h2 id="initial-working-gnome-shell-extension-for-switching-input-methods">Initial working GNOME shell extension for switching input methods</h2>
<p>I then went to upload a zip file of this newly made extension to GNOME site.
It became very interesting learning experiences.</p>
<h3 id="inputmethod-shortcuts-v1-rejected"><code>inputmethod-shortcuts</code> (v1: rejected)</h3>
<p><strong>JustPerfection</strong> gave me feed backs.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>OsamuAoki&#39;s extension, &#34;Shortcuts to activate input methods&#34;, version 1 has a new review:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>JustPerfection posted a review on June 25, 2023:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>1. Please remove `stylesheet.css` since you are not using it:
</span></span><span style="display:flex;"><span>    https://gjs.guide/extensions/review-guidelines/review-guidelines.html#don-t-include-unnecessary-files
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>2. Remove versions &amp;gt;=45 since we don&amp;#x27;t have those versions yet.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>3. Use initTranslations() and getSettings() from ExtensionUtils instead of creating your own custom functions (remove convenience.js after that):
</span></span><span style="display:flex;"><span>    https://gitlab.gnome.org/GNOME/gnome-shell/-/blob/main/js/misc/extensionUtils.js
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>4. That&amp;#x27;s too much for init (line 42 extension.js):
</span></span><span style="display:flex;"><span>    https://gjs.guide/extensions/review-guidelines/review-guidelines.html#only-use-init-for-initialization
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Move that line to enable and null that out in disable:
</span></span><span style="display:flex;"><span>    https://gjs.guide/extensions/review-guidelines/review-guidelines.html#destroy-all-objects
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>5. Remove all the key bindings on disable (line 118-149 extension.js).
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>If you need any help with your extension you can ask us on:
</span></span><span style="display:flex;"><span>- [GNOME Matrix Channel](https://matrix.to/#/#extensions:gnome.org)
</span></span><span style="display:flex;"><span>- IRC Bridge: irc://irc.gimpnet.org/shell-extensions
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Please use the review page to follow up:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>https://extensions.gnome.org/review/42618
</span></span></code></pre></div><p>This was very helpful.  I thought I fixed them all but (I forgot to erase old
zip in the source tree.)  I uploaded again.</p>
<h3 id="inputmethod-shortcuts-v2-rejected"><code>inputmethod-shortcuts</code> (v2: rejected)</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-text" data-lang="text"><span style="display:flex;"><span>OsamuAoki&#39;s extension, &#34;Shortcuts to activate input methods&#34;, version 2 has a new review:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>JustPerfection posted a review on June 25, 2023:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>1. You forgot to remove `stylesheet.css` and `convenience.js`.
</span></span><span style="display:flex;"><span>2. As I said before, you should null out `settings` in disable.
</span></span><span style="display:flex;"><span>3. I recommend to Import in top of the code instead of inside enable (line 51, 60, 69 and 78 extension.js).
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Please use the review page to follow up:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>https://extensions.gnome.org/review/42621
</span></span><span style="display:flex;"><span>OsamuAoki&#39;s extension, &#34;Shortcuts to activate input methods&#34;, version 2 has a new review:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>JustPerfection posted a review on June 25, 2023:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>1. You forgot to remove `stylesheet.css` and `convenience.js`.
</span></span><span style="display:flex;"><span>2. As I said before, you should null out `settings` in disable.
</span></span><span style="display:flex;"><span>3. I recommend to Import in top of the code instead of inside enable (line 51, 60, 69 and 78 extension.js).
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Please use the review page to follow up:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>https://extensions.gnome.org/review/42621
</span></span></code></pre></div><p>Very kind words on careless newbie.</p>
<h3 id="inputmethod-shortcuts-v3-rejected"><code>inputmethod-shortcuts</code> (v3: rejected)</h3>
<p>I missed issue 2 pointed out for version 2.  So I uploaded another one before
getting official rejection.</p>
<h3 id="inputmethod-shortcuts-v4-accepted"><code>inputmethod-shortcuts</code> (v4: accepted)</h3>
<p>This got accepted.  (I saw some minor issues and fixed them in git repo,
later.)</p>
<p>See my result at:</p>
<ul>
<li><a href="https://github.com/osamuaoki/inputmethod-shortcuts">Quick keyboard switching among input methods</a></li>
</ul>
<p>I also updated <a href="/en/2023/06/17/gnome-extensions-1/">GNOME extensions for better UX</a>.</p>
<h2 id="learning-javascript-for-gjs">Learning JavaScript for GJS</h2>
<p>When I started to write GJS JavaScript code for this extension, I had no idea
on JavaScript except it is a interpreter with C/C++-like syntax. Here is a
list of reference documents I decided to read to understand JavaScript and its
use for GNOME.</p>
<ul>
<li>Wikipedia: <a href="s://en.wikipedia.org/wiki/JavaScript">JavaScript</a></li>
<li>Wikipedia: <a href="https://en.wikipedia.org/wiki/ECMAScript">ECMAScript</a></li>
<li>MDN: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">JavaScript</a></li>
<li><a href="https://gjs.guide/">A Guide to JavaScript for GNOME</a>
<ul>
<li><a href="https://gjs.guide/guides/">Developer Guides</a>
<ul>
<li><a href="https://gjs.guide/guides/gjs/intro.html">GNOME JavaScript Introduction</a></li>
<li><a href="https://gjs.guide/guides/gjs/features-across-versions.html">Feature Compatibility</a></li>
<li><a href="https://gjs.guide/guides/gjs/legacy-class-syntax.html">GJS Legacy Class Syntax</a></li>
<li><a href="https://gjs.guide/guides/gjs/style-guide.html">GJS Style Guide</a></li>
</ul>
</li>
<li><a href="https://gjs.guide/extensions/">GNOME Shell Extensions</a></li>
<li><a href="https://gjs-docs.gnome.org/javascript/">JavaScript reference</a></li>
</ul>
</li>
</ul>
<p>JavaScript versions were confusing to me.  Major versions are:</p>
<ul>
<li>ES5: ECMAScript 5 (2009)</li>
<li>ES6: ECMAScript 6 (2015)</li>
</ul>
<p>I also find a nice summary of generic style equivalences of ES5 and ES6 at
<a href="https://www.w3schools.com/js/js_es6.asp">w3schools.com site for JavaScript</a>.</p>
<h2 id="checking-systemd-log">Checking systemd log</h2>
<p>I can see all <strong>gnome-shell</strong> log including DEBUG output from the last system
boot as:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>$ journalctl -p <span style="color:#ae81ff">7</span> -b -g gnome-shell
</span></span></code></pre></div><ul>
<li>Use <code>-g gjs</code> for <code>prefs.js</code>.</li>
<li>Use <code>-f</code> instead of <code>-b</code> to monitor continuously.</li>
</ul>
<h2 id="improvement-of-gnome-extension-inputmethod-shortcuts-v5">Improvement of GNOME extension <code>inputmethod-shortcuts</code> (v5)</h2>
<p>I explored more refactoring of code and feature additions to support
shortcut configuration.</p>
<h3 id="use-of-es6-class-syntax">Use of ES6 <strong>class</strong>-syntax</h3>
<p>Both ES5 prototype-syntax and ES6 class-syntax offer OOP features, but ES6
class-syntax is less confusing for me.  So I decided to rewite
<code>inputmethod-shortcuts</code> using ES6 class-syntax.  &ndash; done</p>
<h3 id="use-for-loop">Use for-loop</h3>
<p>Repeating codes looks stupid.  So I added for-loop. &ndash; done</p>
<h3 id="add-prefsjs">Add prefs.js</h3>
<p>Make shortcut key choice configurable. &ndash; done</p>
<h3 id="get-im-settings">Get IM settings</h3>
<p>Use <code>Gio</code> -&gt; <code>Settings</code> &ndash; done</p>
<p>So IM names are displayed and their shortcuts are configurable up to 10.</p>
<p><img src="/img/InputMethods.png" alt="prefs.js"></p>
<!-- raw HTML omitted -->


<table width="100%">
  <tbody>
  <tr>
  
  <td align="left" width="33%"><a href="/en/2023/06/18/gnome-tweaks-1/">Previous Post</a></td>
  
  <td align="center" width="33%"><a href="/en/">Top</a></td>
  
  <td align="right" width="33%"><a href="#">***</a></td>
  
  </tr>
  </tbody>
</table>

</main>

  <footer>
  
  
  <hr/>
  © 2013-2023 <a href="https://github.com/osamuaoki">Osamu Aoki</a>
  
  </footer>
  </body>
</html>

