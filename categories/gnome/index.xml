<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>gnome on Goofing Osamu</title>
    <link>/categories/gnome/</link>
    <description>Recent content in gnome on Goofing Osamu</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Sat, 23 Mar 2019 18:59:13 +0900</lastBuildDate>
    
	<atom:link href="/categories/gnome/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>キーボード入力モード選択</title>
      <link>/jp/2019/03/23/gnome-uskb-im-select/</link>
      <pubDate>Sat, 23 Mar 2019 18:59:13 +0900</pubDate>
      
      <guid>/jp/2019/03/23/gnome-uskb-im-select/</guid>
      <description>キーボード入力モード選択 キーボード入力モード選択がトグル動作（日本語/英語の交互切り替え)だと 今どっちか分からなくなって結構不便です。
切り替えが、状態が分からなくとも一発でできるのが望ましいので、 その設定方法を以下に記します。
日本語キーボードの設定方法 日本語キーボードだと、変換と無変換キーを、Anthyの入力モード HiraganaとLatinへの切り替えにAnthyの中のキーバインディングで 設定して常にibus-anthyで使うことで何とかなっていました。
もともとWindowsでもALT-漢字、漢字、ALT-`等でトグル動作するのが嫌いで Macの真似でこうしていました。最近のWindows10はこんな感じのようですね。
英語キーボードでの課題 ただ、英語キーボードの場合は変換と無変換キーはありません。
 SHIFTと普通の文字との組み合わせは論外。 CTRLと普通の文字との組み合わせも、VIM使うので全部先約有り。 ALTと普通の文字との組み合わせも、メニューへのショートカットでt全部先約有り。  こういったことも有り、私はCTRL-SPACE, SHIFT-SPACEを一時使っていました
ところが、SHIFT-SPACEやCTRL-SPACEもLokalizeなどのアプリ が使っていました。（ALT-SPACEは既にGNOMEが使っている）
アプリとの喧嘩を避けるにはGUI用にリザーブされている、GUIキー（SUPERと かWindowsキーともいう)等を入力モード選択に使うのが良いわけです。 ただこれはAnthyなどのアプリからは使えません。
英語キーボードでの設定方法 そこで、GNOMEの設定→デバイス→キーボードの登場です。
まず、使いたくないデフォルト設定のSUPER-SPACEやSUPER-SHIFT-SPACEを 設定変更の画面のTYPINGにある設定をバックスペースでともに無効にします。
つぎに、設定リストの一番下のプラスをたたき、新規定義を追加します。
ここで、使用するINPUT METHODが２つしか無いとします。英語とANTHYとしましょう。
inputSources[0]がANTHYとすると、変換キーはないので右にあってまず使わない MENUキーをあてがいましょう。Commandは長いけど１行で入れてください。
Name InputMethod_0 Command gdbus call --session --dest org.gnome.Shell --object-path /org/gnome/Shell --method org.gnome.Shell.Eval &amp;quot;imports.ui.status.keyboard.getInputSourceManager().inputSources[0].activate()&amp;quot; Shortcut MENU  もし、MENUキーを使うのが嫌ならSUPER-m、SUPER-,、SUPER-.、SUPER-/などの右下の キーとSUPERの組み合わせが使いやすい気がします。（２つ以上のインプットメソッド を使うときに便利ですね。)
inputSources[1]がENGLISHとすると、これには使わなくなったSUPER-SPACE をあてがいましょう。
Name InputMethod_1 Command gdbus call --session --dest org.gnome.Shell --object-path /org/gnome/Shell --method org.gnome.Shell.Eval &amp;quot;imports.ui.status.keyboard.getInputSourceManager().inputSources[1].activate()&amp;quot; Shortcut SUPER-SPACE  そしてANTHYは常にHiraganaとしておけばよしです。</description>
    </item>
    
  </channel>
</rss>