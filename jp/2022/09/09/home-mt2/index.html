<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>QMK (7) -- キーマップ改善(続) | Goofing Osamu</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  <body>
    <nav>
    <ul class="menu">
      
      <li><a href="/">Home</a></li>
      
      <li><a href="/about/">About</a></li>
      
      <li><a href="/categories/">Categories</a></li>
      
      <li><a href="/tags/">Tags</a></li>
      
      <li><a href="/en/">English</a></li>
      
      <li><a href="/jp/">Japanese</a></li>
      
      <li><a href="/index.xml">Subscribe</a></li>
      
    </ul>
    <hr/>
    </nav>

<div class="article-meta">
<h1><span class="title">QMK (7) &ndash; キーマップ改善(続)</span></h1>

<h3 class="date">Date:
2022/09/09 (initial publish),
2022/09/11 (last update)
</h3>
</div>

<main>


<table width="100%">
  <tbody>
  <tr>
  
  <td align="left" width="33%"><a href="/jp/2022/09/01/blackpill-4/">Previous Post</a></td>
  
  <td align="center" width="33%"><a href="/jp/">Top</a></td>
  
  <td align="right" width="33%"><a href="#">***</a></td>
  
  </tr>
  </tbody>
</table>

<h2>TOC</h2>

<nav id="TableOfContents">
  <ul>
    <li><a href="#キーマップ改善の経緯">キーマップ改善の経緯</a>
      <ul>
        <li><a href="#キーマップ-pico">キーマップ pico</a></li>
        <li><a href="#キーマップの状況とキーボードの状態">キーマップの状況とキーボードの状態</a></li>
      </ul>
    </li>
  </ul>
</nav>

<h2 id="キーマップ改善の経緯">キーマップ改善の経緯</h2>
<p>キーマップ改善の基本方針としてのタップとホールドの有効利用は、<a href="/jp/2022/03/15/home-mt/">QMK (4) – キーマップ改善</a>から変わっていません。</p>
<p>以前から遊んでいたAVR系でQMKを使う<a href="https://github.com/osamuaoki/cg56">cgc56</a>という一体型キーボードと、
今回ARM系でQMKを使う<a href="/jp/2022/09/01/blackpill-4/">STM32F411CE (4)</a>で作ったcgs58という分割キーボードと、
できれば将来interceptionを使いLaptop PCの内蔵キーボードの全てで、キーマッピングの基本部分を共用できるようにすることにも配慮しました。</p>
<p>特にcgc56を使ってきた経験を生かし、細かな調整を加えました。設計指針の要点をもう一度まとめると以下です。</p>
<ul>
<li>標準キーボードとキーの位置をできるだけ変えないことで、使用時のメンタルストレス無くする。(QWERTYの中心利用。ブロック毎に動かす感じ。)</li>
<li>フィジカルストレスが少なくなるように、指の動きを少なくする。「基本的に使う部分」を(3rows x 6columns + 2thums ) x 2sides とし、1U以上の動き無くす。</li>
<li>HOME-ROW MODを採用する。</li>
<li>日本語と英語・コーディングの両方の用途に配慮する。(ANSIなのに「無変換」「変換」キーをつける変則構成。)</li>
</ul>
<h3 id="キーマップ-pico">キーマップ pico</h3>
<p>「基本的に使う部分」を、左<code>6x3_2</code>キーと右<code>6x3_2</code>キーに限定し、それらのキーの使用は以下のようなpico系配列に落ち着いて来ました。</p>
<pre tabindex="0"><code> │Tab│ Q │ W │ E │ R │ T │***│***│ Y │ U │ I │ O │ P │Bsp│
 │Esc│lsA│lcS│laD│lgF│raG│***│***│raH│lgJ│laK│lcL│ls;│Ent│
 │Mut│ Z │ X │lgC│ V2│ B │***│***│ N │ M │ , │ . │ / │Psc│
 │***│***│***│***│Muh│Sp1│***│***│Sp1│Hen│***│***│***│***│
</code></pre><p>これだと、全ての指のポジション移動量を1U以下に押さえられます。</p>
<p>キー配列はANSIベースです。</p>
<p>ちょっと変則的ですが、日本語キーボードの変換・無変換キーをSPACEの横におきます。これでソフトは動きます。</p>
<p>所持するキーボードがキーが多めなので上記配列で使わないキーはFnキーに等に適当に割り降ります。(あまり使わない気もしますが)</p>
<p>HOME-ROW-MODで出番の減った両端のシフトキーを、タップで使わないのももったいないので、メディアキーなどに割り振ります。ただHOLDはシフトのままにしておきます。viの「ZZ」等はこの方が良いので。</p>
<h3 id="キーマップの状況とキーボードの状態">キーマップの状況とキーボードの状態</h3>
<ul>
<li>
<p><a href="https://github.com/osamuaoki/qmk_firmware/tree/osamu1/keyboards/cgc56">cgc56のソースコード</a> keymap=<code>pico</code></p>
</li>
<li>
<p>cgc56 with DSA profile keycaps (pico):
<img src="/img/cgc56-20220911.jpg" alt="cgc56 with DSA profile keycaps (pico)"></p>
</li>
<li>
<p><a href="https://github.com/osamuaoki/qmk_firmware/tree/osamu1/keyboards/cgs58">cgs58のソースコード</a> keymap=<code>pico</code></p>
</li>
<li>
<p>cgs58 with OEM profile keycaps (pico):
<img src="/img/cgs58-20220911.jpg" alt="cgs58 with OEM profile keycaps (pico)"></p>
</li>
</ul>
<!-- raw HTML omitted -->


<table width="100%">
  <tbody>
  <tr>
  
  <td align="left" width="33%"><a href="/jp/2022/09/01/blackpill-4/">Previous Post</a></td>
  
  <td align="center" width="33%"><a href="/jp/">Top</a></td>
  
  <td align="right" width="33%"><a href="#">***</a></td>
  
  </tr>
  </tbody>
</table>

</main>

  <footer>
  
  
  <hr/>
  © 2013-2021 <a href="https://github.com/osamuaoki">Osamu Aoki</a>
  
  </footer>
  </body>
</html>

